{"ast":null,"code":"import { timer } from 'rxjs';\nimport { list, onShowDetail } from './animations';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./SERVICES_AND_PIPES/currencies.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"./COMPONENTS/navbar/navbar.component\";\nimport * as i4 from \"./COMPONENTS/navbar-logo/navbar-logo.component\";\nimport * as i5 from \"./COMPONENTS/navbar-title/navbar-title.component\";\nimport * as i6 from \"./COMPONENTS/search-currency/search-currency.component\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"./COMPONENTS/currency-list-and-detail/currency-list-and-detail.component\";\nimport * as i9 from \"./COMPONENTS/currency-list/currency-list.component\";\nimport * as i10 from \"./COMPONENTS/currency/currency.component\";\nimport * as i11 from \"./COMPONENTS/loader/loader.component\";\nimport * as i12 from \"./COMPONENTS/currency-detail/currency-detail.component\";\nimport * as i13 from \"./SERVICES_AND_PIPES/sort.pipe\";\nimport * as i14 from \"./SERVICES_AND_PIPES/filter.pipe\";\n\nfunction AppComponent_app_currency_list_and_detail_5_ng_container_2_app_loader_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loader\");\n  }\n}\n\nfunction AppComponent_app_currency_list_and_detail_5_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"app-currency\", 3);\n    i0.ɵɵlistener(\"click\", function AppComponent_app_currency_list_and_detail_5_ng_container_2_Template_app_currency_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const currency_r4 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return ctx_r6.showDetail(currency_r4);\n    });\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵpipe(3, \"filter\");\n    i0.ɵɵpipe(4, \"async\");\n    i0.ɵɵtemplate(5, AppComponent_app_currency_list_and_detail_5_ng_container_2_app_loader_5_Template, 1, 0, \"app-loader\", 1);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const currency_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n\n    const _r0 = i0.ɵɵreference(4);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"currency\", currency_r4)(\"selected\", i0.ɵɵpipeBind1(2, 4, ctx_r3.currenciesService.selectedCurrency$))(\"filteredCurrency\", i0.ɵɵpipeBind2(3, 6, i0.ɵɵpipeBind1(4, 9, _r0.searchedCurrency$), currency_r4));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.showLoader === currency_r4.code);\n  }\n}\n\nfunction AppComponent_app_currency_list_and_detail_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"app-currency-list-and-detail\")(1, \"app-currency-list\");\n    i0.ɵɵtemplate(2, AppComponent_app_currency_list_and_detail_5_ng_container_2_Template, 6, 11, \"ng-container\", 2);\n    i0.ɵɵpipe(3, \"sortbycountry\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"app-currency-detail\");\n    i0.ɵɵelement(5, \"router-outlet\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const currencies_r2 = ctx.ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"@onShowDetail\", ctx_r1.onShowDetail())(\"@list\", undefined);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(3, 3, currencies_r2));\n  }\n}\n\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(currenciesService, routerService) {\n      this.currenciesService = currenciesService;\n      this.routerService = routerService;\n    }\n\n    ngOnInit() {\n      this.currencies$ = this.currenciesService.getCurrencies();\n    }\n\n    _showDetail(currency) {\n      this.showLoader = '';\n      this.currenciesService.selectedCurrency$.next(currency.code);\n      this.currenciesService.getCurrencyDetail(currency);\n      let country = currency.country.split(\" \").join(\"-\");\n      this.routerService.navigate([\"currency-detail\", `${currency.code}-${country}`]);\n    }\n\n    showDetail(currency) {\n      this.showLoader = currency.code;\n      timer(2000).subscribe(_ => this._showDetail(currency));\n    }\n\n    onShowDetail() {\n      return this.routerService.url.split(\"/\")[1];\n    }\n\n  }\n\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.CurrenciesService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    decls: 7,\n    vars: 3,\n    consts: [[\"search\", \"\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [3, \"currency\", \"selected\", \"filteredCurrency\", \"click\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"app-navbar\");\n        i0.ɵɵelement(1, \"app-navbar-logo\")(2, \"app-navbar-title\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(3, \"app-search-currency\", null, 0);\n        i0.ɵɵtemplate(5, AppComponent_app_currency_list_and_detail_5_Template, 6, 5, \"app-currency-list-and-detail\", 1);\n        i0.ɵɵpipe(6, \"async\");\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(6, 1, ctx.currencies$));\n      }\n    },\n    directives: [i3.NavbarComponent, i4.NavbarLogoComponent, i5.NavbarTitleComponent, i6.SearchCurrencyComponent, i7.NgIf, i8.CurrencyListAndDetailComponent, i9.CurrencyListComponent, i7.NgForOf, i10.CurrencyComponent, i11.LoaderComponent, i12.CurrencyDetailComponent, i2.RouterOutlet],\n    pipes: [i7.AsyncPipe, i13.SortByCountryPipe, i14.FilterPipe],\n    styles: [\"[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;box-sizing:border-box;width:100vw;height:100vh;color:#fff;background-image:linear-gradient(#44436d,#31305e)}\"],\n    data: {\n      animation: [list, onShowDetail]\n    }\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}